import{e as t,u as a,v as e}from"./server.mjs";const r=t("cart",(()=>{const{currentLocale:t}=a(),r=e.ref([]),u=e.computed((()=>r.value.reduce(((t,a)=>t+a.quantity),0))),i=e.computed((()=>r.value.reduce(((t,a)=>t+a.product.price*a.quantity),0))),saveCart=()=>{localStorage.setItem("cart",JSON.stringify(r.value))};return{items:r,totalItems:u,totalPrice:i,addToCart:(a,e,u)=>{var i;const o=r.value.find((t=>t.product.id===a.id)),c="string"==typeof a.image?a.image:Array.isArray(a.image)&&(null==(i=a.image[0])?void 0:i.url)||"";o?o.quantity+=1:r.value.push({product:{...a,image:c,categorySlug:e,subcategorySlug:u,originalLocale:t.value},quantity:1}),saveCart()},removeFromCart:t=>{r.value=r.value.filter((a=>a.product.id!==t)),saveCart()},updateQuantity:(t,a)=>{const e=r.value.find((a=>a.product.id===t));if(e){const t=Math.max(1,a);e.quantity=t,saveCart()}},clearCart:()=>{r.value=[],saveCart()},loadCart:()=>{}}}));export{r as u};
//# sourceMappingURL=useCartStore-iBuykjA7.mjs.map
