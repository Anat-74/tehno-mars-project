import{B,a5 as E,a9 as v,C as j,aa as F,q as M,ab as O,ac as V,ad as Q,i as z,e as h,ae as I,af as N,I as U,ag as q,ah as H,S as $,d as J,c as p,h as W,t as X,n as Y,o as P,_ as Z,ai as k}from"./C6S7ryDZ.js";import K from"./C18qQEDI.js";const x=a=>a==="defer"||a===!1;function la(...a){var w;const r=typeof a[a.length-1]=="string"?a.pop():void 0;typeof a[0]!="string"&&typeof a[0]!="object"&&!(typeof a[0]=="function"&&typeof a[1]=="function")&&a.unshift(r);let[_,l,e={}]=a;const s=B(()=>N(_));if(typeof s.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof l!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const t=E(),o=()=>v.value,n=(D,f,g)=>{if(f.isHydrating)return f.payload.data[D];if(g.cause!=="refresh:manual"&&g.cause!=="refresh:hook")return f.static.data[D]};e.server??(e.server=!0),e.default??(e.default=o),e.getCachedData??(e.getCachedData=n),e.lazy??(e.lazy=!1),e.immediate??(e.immediate=!0),e.deep??(e.deep=v.deep),e.dedupe??(e.dedupe="cancel"),e._functionName,t._asyncData[s.value];const m=e.getCachedData(s.value,t,{cause:"initial"});(w=t._asyncData[s.value])!=null&&w._deps||(t._asyncData[s.value]=T(t,s.value,l,e,m));const c=t._asyncData[s.value];c._deps++;const y=()=>t._asyncData[s.value].execute({cause:"initial",dedupe:e.dedupe}),d=e.server!==!1&&t.payload.serverRendered;{let D=function(i){const u=t._asyncData[i];u!=null&&u._deps&&(u._deps--,u._deps===0&&(u==null||u._off(),R(t,i),u.execute=()=>Promise.resolve(),t._asyncData[i].data.value=v.value))};const f=U();if(f&&d&&e.immediate&&!f.sp&&(f.sp=[]),f&&!f._nuxtOnBeforeMountCbs){f._nuxtOnBeforeMountCbs=[];const i=f._nuxtOnBeforeMountCbs;q(()=>{i.forEach(u=>{u()}),i.splice(0,i.length)}),H(()=>i.splice(0,i.length))}d&&t.isHydrating&&(c.error.value||m!=null)?c.status.value=c.error.value?"error":"success":f&&(t.payload.serverRendered&&t.isHydrating||e.lazy)&&e.immediate?f._nuxtOnBeforeMountCbs.push(y):e.immediate&&y();const g=I(),G=j([s,...e.watch||[]],([i],[u])=>{var S;if(u===i){c._execute({cause:"watch",dedupe:e.dedupe});return}u&&D(u),(S=t._asyncData[i])!=null&&S._deps||(t._asyncData[i]=T(t,i,l,e,e.getCachedData(i,t,{cause:"initial"}))),t._asyncData[i]._deps++,e.immediate&&t._asyncData[i].execute({cause:"initial",dedupe:e.dedupe})});g&&F(()=>{G(),D(s.value)})}const b={data:C(()=>t._asyncData[s.value].data),pending:C(()=>t._asyncData[s.value].pending),status:C(()=>t._asyncData[s.value].status),error:C(()=>t._asyncData[s.value].error),refresh:(...D)=>t._asyncData[s.value].execute(...D),execute:(...D)=>t._asyncData[s.value].execute(...D),clear:()=>R(t,s.value)},L=Promise.resolve(t._asyncDataPromises[s.value]).then(()=>b);return Object.assign(L,b),L}function C(a){return B({get(){return a().value},set(r){a().value=r}})}function R(a,r){r in a.payload.data&&(a.payload.data[r]=void 0),r in a.payload._errors&&(a.payload._errors[r]=v.errorValue),a._asyncData[r]&&(a._asyncData[r].data.value=void 0,a._asyncData[r].error.value=v.errorValue,a._asyncData[r].status.value="idle"),r in a._asyncDataPromises&&(a._asyncDataPromises[r]&&(a._asyncDataPromises[r].cancelled=!0),a._asyncDataPromises[r]=void 0)}function A(a,r){const _={};for(const l of r)_[l]=a[l];return _}function T(a,r,_,l,e){var m;(m=a.payload._errors)[r]??(m[r]=v.errorValue);const s=_,t=l.deep?M:O,o=e!=null,n={data:t(o?e:l.default()),pending:B(()=>n.status.value==="pending"),error:Q(a.payload._errors,r),status:O("idle"),execute:(c={})=>{if(a._asyncDataPromises[r]){if(x(c.dedupe??l.dedupe))return a._asyncDataPromises[r];a._asyncDataPromises[r].cancelled=!0}{const d=c.cause==="initial"?e:l.getCachedData(r,a,{cause:c.cause??"refresh:manual"});if(d!=null)return a.payload.data[r]=n.data.value=d,n.error.value=v.errorValue,n.status.value="success",Promise.resolve(d)}n.status.value="pending";const y=new Promise((d,b)=>{try{d(s(a))}catch(L){b(L)}}).then(async d=>{if(y.cancelled)return a._asyncDataPromises[r];let b=d;l.transform&&(b=await l.transform(d)),l.pick&&(b=A(b,l.pick)),a.payload.data[r]=b,n.data.value=b,n.error.value=v.errorValue,n.status.value="success"}).catch(d=>{if(y.cancelled)return a._asyncDataPromises[r];n.error.value=z(d),n.data.value=h(l.default()),n.status.value="error"}).finally(()=>{y.cancelled||delete a._asyncDataPromises[r]});return a._asyncDataPromises[r]=y,a._asyncDataPromises[r]},_execute:V((...c)=>n.execute(...c),0,{leading:!0}),_default:l.default,_deps:0,_hash:void 0,_off:a.hook("app:data:refresh",async c=>{(!c||c.includes(r))&&await n.execute({cause:"refresh:hook"})})};return n}const aa=()=>$("color-mode").value,ea=["disabled"],ta={key:0},ra={key:1},sa=J({__name:"UButton",props:{nameClass:{},disabled:{type:Boolean},icon:{},label:{},size:{default:"normal"},loading:{type:Boolean},theme:{}},emits:["click"],setup(a,{emit:r}){const _=aa(),l=r,e=()=>{l("click")};return(s,t)=>{const o=K;return P(),p("button",{type:"button",disabled:s.disabled,onClick:e,class:Y(["btn",`btn_${s.nameClass}`,{btn_icon:s.icon},{btn_large:s.size==="large"},{btn_loading:s.loading},{btn_preferred:!h(_).unknown&&s.theme===h(_).preference,btn_selected:!h(_).unknown&&s.theme===h(_).value}])},[s.icon?(P(),p("span",ta,[W(o,{name:s.icon},null,8,["name"])])):(P(),p("span",ra,X(s.label),1))],10,ea)}}}),ca=Object.assign(Z(sa,[["__scopeId","data-v-a671e12e"]]),{__name:"UButton"}),ia={ru:{label:"Добавить в корзину",ariaLabelAdded:"Добавлено в корзину",ariaLabelLang:"Переключить язык",ariaLabelGoBack:"Вернуться назад",ariaLabelGoForward:"Идти вперед",ariaLabelPagination:"Перейти на следующую страницу",ariaLabelClosedSuccess:"Закрыть сообщение",ariaLabelDialogOpen:"Открытое модное окно",ariaLabelDialogClosed:"Закрыть модальное окно",ariaLabelCopyLink:"Скопировать ссылку на продукт",ariaLabelReduceQuantity:"Уменьшить количества",ariaLabelIncreaseQuantity:"Увеличить количества",ariaLabelRemoveItemFromCart:"Удалить товар из корзины",ariaLabelScrollToTop:"Прокрутить наверх"},en:{label:"Add to cart",ariaLabelAdded:"Added to cart",ariaLabelLang:"Switch language",ariaLabelGoBack:"Go back",ariaLabelGoForward:"Go forward",ariaLabelPagination:"Go to the next page",ariaLabelClosedSuccess:"Close message",ariaLabelDialogOpen:"Open modal window",ariaLabelDialogClosed:"Close modal window",ariaLabelCopyLink:"Copy link to product",ariaLabelReduceQuantity:"Reduce quantities",ariaLabelIncreaseQuantity:"Increase quantities",ariaLabelRemoveItemFromCart:"Remove item from cart",ariaLabelScrollToTop:"Scroll to top"},be:{label:"Дадаць у кошык",ariaLabelAdded:"Паведамленні ў кошык",ariaLabelLang:"Пераключыць мову",ariaLabelGoBack:"Вярнуцца назад",ariaLabelGoForward:"Ідзі наперад",ariaLabelPagination:"Перайсці на наступную старонку",ariaLabelClosedSuccess:"Закрыць паведамленне",ariaLabelDialogOpen:"Адкрыць мадальнае акно",ariaLabelDialogClosed:"Зачыніць мадальнае акно",ariaLabelCopyLink:"Скапіяваць спасылку на прадукт",ariaLabelReduceQuantity:"Зменшыць колькасці",ariaLabelIncreaseQuantity:"Павялічыць колькасці",ariaLabelRemoveItemFromCart:"Выдаліць тавар з кошыка",ariaLabelScrollToTop:"Пракруціць уверх"}},ua=()=>{const a=k();return{find:(t,o,n)=>a(`/${t}`,{method:"GET",params:o,...n}),findOne:(t,o,n,m)=>{typeof o=="object"&&(n=o,o=void 0);const c=[t,o].filter(Boolean).join("/");return a(c,{method:"GET",params:n,...m})},create:(t,o,n={})=>a(`/${t}`,{method:"POST",body:{data:o},params:n}),update:(t,o,n,m={})=>{typeof o=="object"&&(n=o,o=void 0);const c=[t,o].filter(Boolean).join("/");return a(c,{method:"PUT",body:{data:n},params:m})},delete:(t,o)=>{const n=[t,o].filter(Boolean).join("/");return a(n,{method:"DELETE"})}}};export{ca as _,la as a,ia as b,aa as c,ua as u};
